<TrustFrameworkPolicy xmlns="http://schemas.microsoft.com/online/cpim/schemas/2013/06"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema" PolicySchemaVersion="0.3.0.0"
    TenantId="gptestb2corg.onmicrosoft.com" PolicyId="B2C_1A_PolicyBase"
    PublicPolicyUri="http://gptestb2corg.onmicrosoft.com/B2C_1A_PolicyBase">
    <BuildingBlocks>
        <ClaimsSchema>
            <ClaimType Id="socialIdpUserId">
                <DisplayName>Username</DisplayName>
                <DataType>string</DataType>
                <UserInputType>TextBox</UserInputType>
            </ClaimType>
            <ClaimType Id="objectId">
                <DisplayName>User's Object ID</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="password">
                <DisplayName>Password</DisplayName>
                <DataType>string</DataType>
                <UserInputType>Password</UserInputType>
            </ClaimType>
            <ClaimType Id="tenantId">
                <DisplayName>User's Object's Tenant ID</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="signInName">
                <DisplayName>Sign in name</DisplayName>
                <DataType>string</DataType>
                <UserInputType>TextBox</UserInputType>
            </ClaimType>
            <ClaimType Id="accountEnabled">
                <DisplayName>Account Enabled</DisplayName>
                <DataType>boolean</DataType>
            </ClaimType>
            <ClaimType Id="foreignId">
                <DisplayName>foreignId</DisplayName>
                <DataType>userIdentity</DataType>
            </ClaimType>
            <ClaimType Id="passwordPolicies">
                <DisplayName>Password Policies</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="client_id">
                <DisplayName>client_id</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="resource_id">
                <DisplayName>resource_id</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="sub">
                <DisplayName>Subject</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="identityProvider">
                <DisplayName>Identity Provider</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="displayName">
                <DisplayName>Display Name</DisplayName>
                <DataType>string</DataType>
                <UserInputType>TextBox</UserInputType>
            </ClaimType>
            <ClaimType Id="email">
                <DisplayName>Email Address</DisplayName>
                <DataType>string</DataType>
                <UserInputType>TextBox</UserInputType>
            </ClaimType>
            <ClaimType Id="otherMails">
                <DisplayName>Alternate Email Addresses</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="userPrincipalName">
                <DisplayName>UserPrincipalName</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="upnUserName">
                <DisplayName>UPN User Name</DisplayName>
                <DataType>string</DataType>
                <UserInputType>TextBox</UserInputType>
            </ClaimType>
            <ClaimType Id="newUser">
                <DisplayName>User is new</DisplayName>
                <DataType>boolean</DataType>
            </ClaimType>
            <ClaimType Id="executedSelfAssertedInput">
                <DisplayName>executed-SelfAsserted-Input</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="authenticationSource">
                <DisplayName>AuthenticationSource</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="nca">
                <DisplayName>nca</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="grant_type">
                <DisplayName>grant_type</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="scope">
                <DisplayName>scope</DisplayName>
                <DataType>string</DataType>
                <UserInputType>TextBox</UserInputType>
            </ClaimType>
            <ClaimType Id="objectIdFromSession">
                <DisplayName>objectIdFromSession</DisplayName>
                <DataType>boolean</DataType>
            </ClaimType>
            <ClaimType Id="isActiveMFASession">
                <DisplayName>isActiveMFASession</DisplayName>
                <DataType>boolean</DataType>
            </ClaimType>
            <ClaimType Id="givenName">
                <DisplayName>Given Name</DisplayName>
                <DataType>string</DataType>
                <UserInputType>TextBox</UserInputType>
            </ClaimType>
            <ClaimType Id="surname">
                <DisplayName>Surname</DisplayName>
                <DataType>string</DataType>
                <UserInputType>TextBox</UserInputType>
            </ClaimType>
            <ClaimType Id="pwdResetRequired">
                <DisplayName>pwdResetRequired</DisplayName>
                <DataType>boolean</DataType>
            </ClaimType>
            <ClaimType Id="pwdResetReqd1">
                <DisplayName>pwdResetRequired</DisplayName>
                <DataType>boolean</DataType>
                <UserInputType>TextBox</UserInputType>
            </ClaimType>
            <ClaimType Id="strongAuthenticationPhoneNumber">
                <DisplayName>Phone Number</DisplayName>
                <DataType>string</DataType>
                <Mask Type="Regex" Regex=".+(?=.{4}$)">XXX-XXX-</Mask>
            </ClaimType>
            <ClaimType Id="newNumberEntered">
                <DisplayName>New Phone Number Entered</DisplayName>
                <DataType>boolean</DataType>
            </ClaimType>
            <ClaimType Id="saml1">
                <DisplayName>Saml 1</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="saml2">
                <DisplayName>Saml2</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="EnabledSaml">
                <DisplayName> Enabled Saml</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="samlEnabled">
                <DisplayName>Saml Enabled</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="foreignId_0">
                <DisplayName>Foreign ID</DisplayName>
                <DataType>userIdentity</DataType>
            </ClaimType>
            <ClaimType Id="newPassword">
                <DisplayName>newPassword</DisplayName>
                <DataType>string</DataType>
                <UserInputType>Password</UserInputType>
                <PredicateValidationReference Id="passwordComplexityValidation" />
            </ClaimType>
            <ClaimType Id="reenterPassword">
                <DisplayName>reenterPassword</DisplayName>
                <DataType>string</DataType>
                <UserInputType>Password</UserInputType>
                <PredicateValidationReference Id="passwordComplexityValidation" />
            </ClaimType>
            <ClaimType Id="BranchVar_0">
                <DisplayName>Branch Variable 0</DisplayName>
                <DataType>boolean</DataType>
            </ClaimType>
            <ClaimType Id="BranchVar_1">
                <DisplayName>Branch Variable 1</DisplayName>
                <DataType>boolean</DataType>
            </ClaimType>
            <ClaimType Id="BranchVar_2">
                <DisplayName>Branch Variable 2</DisplayName>
                <DataType>boolean</DataType>
            </ClaimType>
            <ClaimType Id="BranchVar_3">
                <DisplayName>Branch Variable 3</DisplayName>
                <DataType>boolean</DataType>
            </ClaimType>
            <ClaimType Id="BranchVar_4">
                <DisplayName>Branch Variable 4</DisplayName>
                <DataType>boolean</DataType>
            </ClaimType>
            <ClaimType Id="jexg_BooleanCopyDummy">
                <DisplayName>Boolean Copy Dummy</DisplayName>
                <DataType>boolean</DataType>
            </ClaimType>
            <ClaimType Id="grant_type_0">
                <DisplayName>grant_type</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="scope_0">
                <DisplayName>scope</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="nca_0">
                <DisplayName>nca</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="client_id_0">
                <DisplayName>client_id</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="resource_id_0">
                <DisplayName>resource_id</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="strCmpBuffer">
                <DisplayName>strCmpBuffer</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="estsRequestId">
                <DisplayName>estsRequestId</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="authMethodsUsedForCA">
                <DisplayName>authMethodsUsedForCA</DisplayName>
                <DataType>stringCollection</DataType>
            </ClaimType>
            <ClaimType Id="upnUserName_0">
                <DisplayName>upnUserName</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="userPrincipalName_0">
                <DisplayName>userPrincipalName</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="issuerUserId">
                <DisplayName>issuerUserId</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="identityProvider_0">
                <DisplayName>identityProvider</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
            <ClaimType Id="isFederatedLogin">
                <DisplayName>isFederatedLogin</DisplayName>
                <DataType>boolean</DataType>
            </ClaimType>
            <ClaimType Id="userIdentitiesForRead">
                <DisplayName>userIdentitiesForRead</DisplayName>
                <DataType>userIdentityCollection</DataType>
            </ClaimType>
            <ClaimType Id="emptyUserIdentities">
                <DisplayName>emptyUserIdentities</DisplayName>
                <DataType>userIdentityCollection</DataType>
            </ClaimType>
            <ClaimType Id="Conditional_Condition0">
                <DisplayName>Conditional Evaluation Temp Condition 59</DisplayName>
                <DataType>boolean</DataType>
            </ClaimType>
            <ClaimType Id="strCmpPwdBuffer">
                <DisplayName>strCmpPwdBuffer</DisplayName>
                <DataType>string</DataType>
                <UserInputType>Password</UserInputType>
            </ClaimType>
            <ClaimType Id="userIdentities">
                <DisplayName>userIdentities</DisplayName>
                <DataType>userIdentityCollection</DataType>
            </ClaimType>
            <ClaimType Id="passwordPolicies_0">
                <DisplayName>passwordPolicies</DisplayName>
                <DataType>string</DataType>
            </ClaimType>
        </ClaimsSchema>
        <Predicates>
            <Predicate Id="passwordComplexityIncludesLowercase" Method="IncludesCharacters"
                HelpText="a lowercase letter">
                <Parameters>
                    <Parameter Id="CharacterSet">a-z</Parameter>
                </Parameters>
            </Predicate>
            <Predicate Id="passwordComplexityIncludesUppercase" Method="IncludesCharacters"
                HelpText="an uppercase letter">
                <Parameters>
                    <Parameter Id="CharacterSet">A-Z</Parameter>
                </Parameters>
            </Predicate>
            <Predicate Id="passwordComplexityIncludesNumbers" Method="IncludesCharacters"
                HelpText="a number">
                <Parameters>
                    <Parameter Id="CharacterSet">0-9</Parameter>
                </Parameters>
            </Predicate>
        </Predicates>
        <PredicateValidations>
            <PredicateValidation Id="passwordComplexityValidation">
                <PredicateGroups>
                    <PredicateGroup Id="passwordComplexityCharsetValidation">
                        <UserHelpText>The password must have at least 2 of the following:</UserHelpText>
                        <PredicateReferences MatchAtLeast="2">
                            <PredicateReference Id="passwordComplexityIncludesLowercase" />
                            <PredicateReference Id="passwordComplexityIncludesUppercase" />
                            <PredicateReference Id="passwordComplexityIncludesNumbers" />
                        </PredicateReferences>
                    </PredicateGroup>
                </PredicateGroups>
            </PredicateValidation>
        </PredicateValidations>
        <ClaimsTransformations>
            <ClaimsTransformation Id="Username_Password_Validation_makeAuthMethodsCollection"
                TransformationMethod="AddItemToStringCollection">
                <InputClaims>
                    <InputClaim ClaimTypeReferenceId="strCmpBuffer" TransformationClaimType="item" />
                    <InputClaim ClaimTypeReferenceId="authMethodsUsedForCA"
                        TransformationClaimType="collection" />
                </InputClaims>
                <OutputClaims>
                    <OutputClaim ClaimTypeReferenceId="authMethodsUsedForCA"
                        TransformationClaimType="collection" />
                </OutputClaims>
            </ClaimsTransformation>
            <ClaimsTransformation Id="CreateRandomUPNUserName"
                TransformationMethod="CreateRandomString">
                <InputParameters>
                    <InputParameter Id="randomGeneratorType" DataType="string" Value="GUID" />
                </InputParameters>
                <OutputClaims>
                    <OutputClaim ClaimTypeReferenceId="upnUserName_0"
                        TransformationClaimType="outputClaim" />
                </OutputClaims>
            </ClaimsTransformation>
            <ClaimsTransformation Id="CreateUserPrincipalName"
                TransformationMethod="FormatStringClaim">
                <InputClaims>
                    <InputClaim ClaimTypeReferenceId="upnUserName_0"
                        TransformationClaimType="inputClaim" />
                </InputClaims>
                <InputParameters>
                    <InputParameter Id="stringFormat" DataType="string"
                        Value="cpim_{0}@{RelyingPartyTenantId}" />
                </InputParameters>
                <OutputClaims>
                    <OutputClaim ClaimTypeReferenceId="userPrincipalName_0"
                        TransformationClaimType="outputClaim" />
                </OutputClaims>
            </ClaimsTransformation>
            <ClaimsTransformation Id="CreateUserForeignID" TransformationMethod="CreateUserIdentity">
                <InputClaims>
                    <InputClaim ClaimTypeReferenceId="issuerUserId"
                        TransformationClaimType="issuerUserId" />
                    <InputClaim ClaimTypeReferenceId="identityProvider_0"
                        TransformationClaimType="issuer" />
                </InputClaims>
                <OutputClaims>
                    <OutputClaim ClaimTypeReferenceId="foreignId"
                        TransformationClaimType="userIdentity" />
                </OutputClaims>
            </ClaimsTransformation>
            <ClaimsTransformation Id="branchJoinFinalBooleanOr4" TransformationMethod="OrClaims">
                <InputClaims>
                    <InputClaim ClaimTypeReferenceId="BranchVar_1"
                        TransformationClaimType="inputClaim1" />
                    <InputClaim ClaimTypeReferenceId="BranchVar_2"
                        TransformationClaimType="inputClaim2" />
                </InputClaims>
                <OutputClaims>
                    <OutputClaim ClaimTypeReferenceId="BranchVar_3"
                        TransformationClaimType="outputClaim" />
                </OutputClaims>
            </ClaimsTransformation>
            <ClaimsTransformation Id="CreateForeignIDCollectionForRead"
                TransformationMethod="AddItemToUserIdentityCollection">
                <InputClaims>
                    <InputClaim ClaimTypeReferenceId="foreignId" TransformationClaimType="item" />
                    <InputClaim ClaimTypeReferenceId="emptyUserIdentities"
                        TransformationClaimType="collection" />
                </InputClaims>
                <OutputClaims>
                    <OutputClaim ClaimTypeReferenceId="userIdentitiesForRead"
                        TransformationClaimType="collection" />
                </OutputClaims>
            </ClaimsTransformation>
            <ClaimsTransformation Id="Conditional_Condition0_Boolcmp"
                TransformationMethod="AndClaims">
                <InputClaims>
                    <InputClaim ClaimTypeReferenceId="accountEnabled"
                        TransformationClaimType="inputClaim1" />
                    <InputClaim ClaimTypeReferenceId="jexg_BooleanCopyDummy"
                        TransformationClaimType="inputClaim2" />
                </InputClaims>
                <OutputClaims>
                    <OutputClaim ClaimTypeReferenceId="Conditional_Condition0"
                        TransformationClaimType="outputClaim" />
                </OutputClaims>
            </ClaimsTransformation>
            <ClaimsTransformation Id="Conditional_SetFalseBranchVar"
                TransformationMethod="NotClaims">
                <InputClaims>
                    <InputClaim ClaimTypeReferenceId="Conditional_Condition0"
                        TransformationClaimType="inputClaim" />
                </InputClaims>
                <OutputClaims>
                    <OutputClaim ClaimTypeReferenceId="BranchVar_4"
                        TransformationClaimType="outputClaim" />
                </OutputClaims>
            </ClaimsTransformation>
            <ClaimsTransformation Id="AAD_Create_MakeRandomPassword"
                TransformationMethod="CreateRandomString">
                <InputParameters>
                    <InputParameter Id="randomGeneratorType" DataType="string" Value="GUID" />
                </InputParameters>
                <OutputClaims>
                    <OutputClaim ClaimTypeReferenceId="strCmpPwdBuffer"
                        TransformationClaimType="outputClaim" />
                </OutputClaims>
            </ClaimsTransformation>
            <ClaimsTransformation Id="AAD_Create_MakeIndexingUserIdentityCollection"
                TransformationMethod="AddItemToUserIdentityCollection">
                <InputClaims>
                    <InputClaim ClaimTypeReferenceId="foreignId" TransformationClaimType="item" />
                    <InputClaim ClaimTypeReferenceId="emptyUserIdentities"
                        TransformationClaimType="collection" />
                </InputClaims>
                <OutputClaims>
                    <OutputClaim ClaimTypeReferenceId="userIdentities"
                        TransformationClaimType="collection" />
                </OutputClaims>
            </ClaimsTransformation>
        </ClaimsTransformations>
        <ClientDefinitions>
            <ClientDefinition Id="DefaultWeb">
                <ClientUIFilterFlags>LineMarkers, MetaRefresh</ClientUIFilterFlags>
            </ClientDefinition>
        </ClientDefinitions>
        <ContentDefinitions>
            <ContentDefinition Id="api.error">
                <LoadUri>~/tenant/templates/AzureBlue/exception.cshtml</LoadUri>
                <RecoveryUri>~/common/default_page_error.html</RecoveryUri>
                <DataUri>urn:com:microsoft:aad:b2c:elements:contract:globalexception:1.2.1</DataUri>
                <Metadata>
                    <Item Key="DisplayName">Error page</Item>
                </Metadata>
            </ContentDefinition>
            <ContentDefinition Id="api.idpselections">
                <LoadUri>~/tenant/templates/AzureBlue/idpSelector.cshtml</LoadUri>
                <RecoveryUri>~/common/default_page_error.html</RecoveryUri>
                <DataUri>urn:com:microsoft:aad:b2c:elements:contract:providerselection:1.2.1</DataUri>
                <Metadata>
                    <Item Key="DisplayName">Idp selection page</Item>
                    <Item Key="language.intro">Sign in</Item>
                </Metadata>
                <LocalizedResourcesReferences MergeBehavior="Prepend">
                    <LocalizedResourcesReference Language="en"
                        LocalizedResourcesReferenceId="api.idpselections.en" />
                </LocalizedResourcesReferences>
            </ContentDefinition>
            <ContentDefinition Id="api.idpselections.signup">
                <LoadUri>~/tenant/templates/AzureBlue/idpSelector.cshtml</LoadUri>
                <RecoveryUri>~/common/default_page_error.html</RecoveryUri>
                <DataUri>urn:com:microsoft:aad:b2c:elements:contract:providerselection:1.2.1</DataUri>
                <Metadata>
                    <Item Key="DisplayName">Idp selection page</Item>
                    <Item Key="language.intro">Sign up</Item>
                </Metadata>
            </ContentDefinition>
            <ContentDefinition Id="api.signuporsignin">
                <LoadUri>~/tenant/templates/AzureBlue/unified.cshtml</LoadUri>
                <RecoveryUri>~/common/default_page_error.html</RecoveryUri>
                <DataUri>urn:com:microsoft:aad:b2c:elements:contract:unifiedssp:2.1.5</DataUri>
                <Metadata>
                    <Item Key="DisplayName">Signin and Signup</Item>
                </Metadata>
                <LocalizedResourcesReferences MergeBehavior="Prepend">
                    <LocalizedResourcesReference Language="en"
                        LocalizedResourcesReferenceId="api.signuporsignin.en" />
                </LocalizedResourcesReferences>
            </ContentDefinition>
            <ContentDefinition Id="api.selfasserted">
                <LoadUri>~/tenant/templates/AzureBlue/selfAsserted.cshtml</LoadUri>
                <RecoveryUri>~/common/default_page_error.html</RecoveryUri>
                <DataUri>urn:com:microsoft:aad:b2c:elements:contract:selfasserted:2.1.7</DataUri>
                <Metadata>
                    <Item Key="DisplayName">Collect information from user page</Item>
                </Metadata>
            </ContentDefinition>
            <ContentDefinition Id="api.selfasserted.profileupdate">
                <LoadUri>~/tenant/templates/AzureBlue/selfAsserted.cshtml</LoadUri>
                <RecoveryUri>~/common/default_page_error.html</RecoveryUri>
                <DataUri>urn:com:microsoft:aad:b2c:elements:contract:selfasserted:2.1.7</DataUri>
                <Metadata>
                    <Item Key="DisplayName">Collect information from user page</Item>
                </Metadata>
                <LocalizedResourcesReferences MergeBehavior="Prepend">
                    <LocalizedResourcesReference Language="en"
                        LocalizedResourcesReferenceId="api.selfasserted.profileupdate.en" />
                </LocalizedResourcesReferences>
            </ContentDefinition>
            <ContentDefinition Id="api.localaccountsignup">
                <LoadUri>~/tenant/templates/AzureBlue/selfAsserted.cshtml</LoadUri>
                <RecoveryUri>~/common/default_page_error.html</RecoveryUri>
                <DataUri>urn:com:microsoft:aad:b2c:elements:contract:selfasserted:2.1.7</DataUri>
                <Metadata>
                    <Item Key="DisplayName">Local account sign up page</Item>
                </Metadata>
                <LocalizedResourcesReferences MergeBehavior="Prepend">
                    <LocalizedResourcesReference Language="en"
                        LocalizedResourcesReferenceId="api.localaccountsignup.en" />
                </LocalizedResourcesReferences>
            </ContentDefinition>
            <ContentDefinition Id="api.localaccountpasswordreset">
                <LoadUri>~/tenant/templates/AzureBlue/selfAsserted.cshtml</LoadUri>
                <RecoveryUri>~/common/default_page_error.html</RecoveryUri>
                <DataUri>urn:com:microsoft:aad:b2c:elements:contract:selfasserted:2.1.7</DataUri>
                <Metadata>
                    <Item Key="DisplayName">Local account change password page</Item>
                </Metadata>
                <LocalizedResourcesReferences MergeBehavior="Prepend">
                    <LocalizedResourcesReference Language="en"
                        LocalizedResourcesReferenceId="api.localaccountpasswordreset.en" />
                </LocalizedResourcesReferences>
            </ContentDefinition>
            <ContentDefinition Id="api.socialccountsignup">
                <LoadUri>~/tenant/templates/AzureBlue/selfAsserted.cshtml</LoadUri>
                <RecoveryUri>~/common/default_page_error.html</RecoveryUri>
                <DataUri>urn:com:microsoft:aad:b2c:elements:contract:selfasserted:2.1.7</DataUri>
                <Metadata>
                    <Item Key="DisplayName">Collect information from user page</Item>
                </Metadata>
                <LocalizedResourcesReferences MergeBehavior="Prepend">
                    <LocalizedResourcesReference Language="en"
                        LocalizedResourcesReferenceId="api.socialccountsignup.en" />
                </LocalizedResourcesReferences>
            </ContentDefinition>
            <ContentDefinition Id="api.localaccountsignin">
                <LoadUri>~/tenant/templates/AzureBlue/selfAsserted.cshtml</LoadUri>
                <RecoveryUri>~/common/default_page_error.html</RecoveryUri>
                <DataUri>urn:com:microsoft:aad:b2c:elements:contract:selfasserted:2.1.7</DataUri>
                <Metadata>
                    <Item Key="DisplayName">Collect information from user page</Item>
                </Metadata>
                <LocalizedResourcesReferences MergeBehavior="Prepend">
                    <LocalizedResourcesReference Language="en"
                        LocalizedResourcesReferenceId="api.localaccountsignin.en" />
                </LocalizedResourcesReferences>
            </ContentDefinition>
            <ContentDefinition Id="api.phonefactor">
                <LoadUri>~/tenant/templates/AzureBlue/multifactor-1.0.0.cshtml</LoadUri>
                <RecoveryUri>~/common/default_page_error.html</RecoveryUri>
                <DataUri>urn:com:microsoft:aad:b2c:elements:contract:multifactor:1.2.5</DataUri>
                <Metadata>
                    <Item Key="DisplayName">Multi-factor authentication page</Item>
                </Metadata>
                <LocalizedResourcesReferences MergeBehavior="Prepend">
                    <LocalizedResourcesReference Language="en"
                        LocalizedResourcesReferenceId="api.phonefactor.en" />
                </LocalizedResourcesReferences>
            </ContentDefinition>
        </ContentDefinitions>
        <Localization Enabled="true">
            <SupportedLanguages DefaultLanguage="en" MergeBehavior="Append">
                <SupportedLanguage>en</SupportedLanguage>
            </SupportedLanguages>
            <LocalizedResources Id="api.signuporsignin.en">
                <LocalizedStrings>
                    <LocalizedString ElementType="ClaimType" ElementId="signInName"
                        StringId="DisplayName">Email Address</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="heading">Sign in</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="social_intro">Other options</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="local_intro_generic">Sign in
                        with your {0}</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="password"
                        StringId="DisplayName">Password</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="requiredField_password">Please
                        enter your password</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="requiredField_generic">Please
                        enter your {0}</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="invalid_generic">Please enter
                        a valid {0}</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="createaccount_one_link">Sign
                        up now</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="createaccount_two_links">Sign
                        up with {0} or {1}</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="createaccount_three_links">Sign
                        up with {0}, {1}, or {2}</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="forgotpassword_link">Forgot
                        your password?</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="button_signin">Sign in</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="divider_title">OR</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="createaccount_intro">Don't
                        have an account?</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="unknown_error">We are having
                        trouble signing you in. Please try again later.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="remember_me">Keep me signed
                        in</LocalizedString>
                    <LocalizedString ElementType="ClaimsProvider" StringId="FacebookExchange">
                        Facebook</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="ResourceOwnerFlowInvalidCredentials">Your password is incorrect.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfInvalidPassword">Your password is incorrect.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfPasswordExpired">Your password has expired.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfClaimsPrincipalDoesNotExist">We can't seem to find
                        your account.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfOldPasswordUsed">Looks like you used an old password.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage" StringId="DefaultMessage">Invalid
                        username or password.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfUserAccountDisabled">Your account has been locked.
                        Contact your support person to unlock it, then try again.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfUserAccountLocked">Your account is temporarily locked
                        to prevent unauthorized use. Try again later.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage" StringId="AADRequestsThrottled">There
                        are too many requests at this moment. Please wait for some time and try
                        again.</LocalizedString>
                </LocalizedStrings>
            </LocalizedResources>
            <LocalizedResources Id="api.localaccountsignup.en">
                <LocalizedStrings>
                    <LocalizedString ElementType="ClaimType" ElementId="email"
                        StringId="DisplayName">Email Address</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="email"
                        StringId="UserHelpText">Email address that can be used to contact you.</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="email"
                        StringId="PatternHelpText">Please enter a valid email address.</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="newPassword"
                        StringId="DisplayName">New Password</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="newPassword"
                        StringId="UserHelpText">Enter new password</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="newPassword"
                        StringId="PatternHelpText">8-16 characters, containing 3 out of 4 of the
                        following: Lowercase characters, uppercase characters, digits (0-9), and one
                        or more of the following symbols: @ # $ % ^ &amp;amp; * - _ + = [ ] { } | :
                        ' , ? / ` ~ " ( ) ; .</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="reenterPassword"
                        StringId="DisplayName">Confirm New Password</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="reenterPassword"
                        StringId="UserHelpText">Confirm new password</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="reenterPassword"
                        StringId="PatternHelpText">8-16 characters, containing 3 out of 4 of the
                        following: Lowercase characters, uppercase characters, digits (0-9), and one
                        or more of the following symbols: @ # $ % ^ &amp;amp; * - _ + = [ ] { } | :
                        ' , ? / ` ~ " ( ) ; .</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="displayName"
                        StringId="DisplayName">Display Name</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="displayName"
                        StringId="UserHelpText">Your display name.</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="surname"
                        StringId="DisplayName">Surname</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="surname"
                        StringId="UserHelpText">Your surname (also known as family name or last
                        name).</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="givenName"
                        StringId="DisplayName">Given Name</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="givenName"
                        StringId="UserHelpText">Your given name (also known as first name).</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="button_continue">Create</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="error_fieldIncorrect">One or
                        more fields are filled out incorrectly. Please check your entries and try
                        again.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="error_passwordEntryMismatch">The
                        password entry fields do not match. Please enter the same password in both
                        fields and try again.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="error_requiredFieldMissing">A
                        required field is missing. Please fill out all required fields and try
                        again.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="helplink_text">What is this?</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="initial_intro">Please provide
                        the following details.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="preloader_alt">Please wait</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="required_field">This
                        information is required.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="button_cancel">Cancel</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_but_edit">Change e-mail</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_but_resend">Send new code</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_but_send">Send
                        verification code</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_but_verify">Verify code</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_fail_code_expired">That
                        code is expired. Please request a new code.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_fail_no_retry">You've
                        made too many incorrect attempts. Please try again later.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_fail_retry">That code is
                        incorrect. Please try again.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_fail_server">We are
                        having trouble verifying your email address. Please enter a valid email
                        address and try again.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_fail_throttled">There
                        have been too many requests to verify this email address. Please wait a
                        while, then try again.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_info_msg">Verification
                        code has been sent to your inbox. Please copy it to the input box below.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_input">Verification code</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_intro_msg">Verification
                        is necessary. Please click Send button.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_success_msg">E-mail
                        address verified. You can now continue.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage" StringId="ServiceThrottled">There
                        are too many requests at this moment. Please wait for some time and try
                        again.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfClaimNotVerified">Claim not verified: {0}</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfClaimsPrincipalAlreadyExists">A user with the
                        specified ID already exists. Please choose a different one.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfIncorrectPattern">Incorrect pattern for: {0}</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage" StringId="UserMessageIfInvalidInput">{0}
                        has invalid input.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfMissingRequiredElement">Missing required element: {0}</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfValidationError">Error in validation by: {0}</LocalizedString>
                </LocalizedStrings>
            </LocalizedResources>
            <LocalizedResources Id="api.socialccountsignup.en">
                <LocalizedStrings>
                    <LocalizedString ElementType="ClaimType" ElementId="email"
                        StringId="DisplayName">Email Address</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="email"
                        StringId="UserHelpText">Email address that can be used to contact you.</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="email"
                        StringId="PatternHelpText">Please enter a valid email address.</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="displayName"
                        StringId="DisplayName">Display Name</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="displayName"
                        StringId="UserHelpText">Your display name.</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="surname"
                        StringId="DisplayName">Surname</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="surname"
                        StringId="UserHelpText">Your surname (also known as family name or last
                        name).</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="givenName"
                        StringId="DisplayName">Given Name</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="givenName"
                        StringId="UserHelpText">Your given name (also known as first name).</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="button_continue">Create</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="button_cancel">Cancel</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfClaimsPrincipalAlreadyExists">You are already
                        registered, please press the back button and sign in instead.</LocalizedString>
                </LocalizedStrings>
            </LocalizedResources>
            <LocalizedResources Id="api.localaccountpasswordreset.en">
                <LocalizedStrings>
                    <LocalizedString ElementType="ClaimType" ElementId="email"
                        StringId="DisplayName">Email Address</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="email"
                        StringId="UserHelpText">Email address that can be used to contact you.</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="email"
                        StringId="PatternHelpText">Please enter a valid email address.</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="newPassword"
                        StringId="DisplayName">New Password</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="newPassword"
                        StringId="UserHelpText">Enter new password</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="newPassword"
                        StringId="PatternHelpText">8-16 characters, containing 3 out of 4 of the
                        following: Lowercase characters, uppercase characters, digits (0-9), and one
                        or more of the following symbols: @ # $ % ^ &amp;amp; * - _ + = [ ] { } | :
                        ' , ? / ` ~ " ( ) ; .</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="reenterPassword"
                        StringId="DisplayName">Confirm New Password</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="reenterPassword"
                        StringId="UserHelpText">Confirm new password</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="reenterPassword"
                        StringId="PatternHelpText">8-16 characters, containing 3 out of 4 of the
                        following: Lowercase characters, uppercase characters, digits (0-9), and one
                        or more of the following symbols: @ # $ % ^ &amp;amp; * - _ + = [ ] { } | :
                        ' , ? / ` ~ " ( ) ; .</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="error_passwordEntryMismatch">The
                        password entry fields do not match. Please enter the same password in both
                        fields and try again.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="error_fieldIncorrect">One or
                        more fields are filled out incorrectly. Please check your entries and try
                        again.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="button_continue">Continue</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="button_cancel">Cancel</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfClaimsPrincipalDoesNotExist">An account could not be
                        found for the provided user ID.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfClaimsTransformationBooleanValueIsNotEqual">Your
                        account has been locked. Contact your support person to unlock it, then try
                        again.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="required_field">This
                        information is required.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_but_edit">Change e-mail</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_but_resend">Send new code</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_but_send">Send
                        verification code</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_but_verify">Verify code</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_fail_code_expired">That
                        code is expired. Please request a new code.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_fail_no_retry">You've
                        made too many incorrect attempts. Please try again later.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_fail_retry">That code is
                        incorrect. Please try again.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_fail_server">We are
                        having trouble verifying your email address. Please enter a valid email
                        address and try again.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_fail_throttled">There
                        have been too many requests to verify this email address. Please wait a
                        while, then try again.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_info_msg">Verification
                        code has been sent to your inbox. Please copy it to the input box below.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_input">Verification code</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_intro_msg">Verification
                        is necessary. Please click Send button.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="ver_success_msg">E-mail
                        address verified. You can now continue.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage" StringId="ServiceThrottled">There
                        are too many requests at this moment. Please wait for some time and try
                        again.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfClaimNotVerified">Claim not verified: {0}</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfClaimsPrincipalAlreadyExists">A user with the
                        specified ID already exists. Please choose a different one.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfIncorrectPattern">Incorrect pattern for: {0}</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage" StringId="UserMessageIfInvalidInput">{0}
                        has invalid input.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfMissingRequiredElement">Missing required element: {0}</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfValidationError">Error in validation by: {0}</LocalizedString>
                </LocalizedStrings>
            </LocalizedResources>
            <LocalizedResources Id="api.idpselections.en">
                <LocalizedStrings>
                    <LocalizedString ElementType="UxElement" StringId="intro">Sign in</LocalizedString>
                    <LocalizedString ElementType="ClaimsProvider"
                        StringId="LocalAccountSigninEmailExchange">Local Account Signin</LocalizedString>
                    <LocalizedString ElementType="ClaimsProvider" StringId="FacebookExchange">
                        Facebook</LocalizedString>
                </LocalizedStrings>
            </LocalizedResources>
            <LocalizedResources Id="api.localaccountsignin.en">
                <LocalizedStrings>
                    <LocalizedString ElementType="ClaimType" ElementId="signInName"
                        StringId="DisplayName">Email Address</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="password"
                        StringId="DisplayName">Password</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="button_continue">Continue</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="button_cancel">Cancel</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="ResourceOwnerFlowInvalidCredentials">Your password is incorrect.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfInvalidPassword">Your password is incorrect.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfPasswordExpired">Your password has expired.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfClaimsPrincipalDoesNotExist">We can't seem to find
                        your account.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfOldPasswordUsed">Looks like you used an old password.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage" StringId="DefaultMessage">Invalid
                        username or password.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfUserAccountDisabled">Your account has been locked.
                        Contact your support person to unlock it, then try again.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage"
                        StringId="UserMessageIfUserAccountLocked">Your account is temporarily locked
                        to prevent unauthorized use. Try again later.</LocalizedString>
                    <LocalizedString ElementType="ErrorMessage" StringId="AADRequestsThrottled">There
                        are too many requests at this moment. Please wait for some time and try
                        again.</LocalizedString>
                </LocalizedStrings>
            </LocalizedResources>
            <LocalizedResources Id="api.selfasserted.profileupdate.en">
                <LocalizedStrings>
                    <LocalizedString ElementType="ClaimType" ElementId="displayName"
                        StringId="DisplayName">Display Name</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="displayName"
                        StringId="UserHelpText">Your display name.</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="surname"
                        StringId="DisplayName">Surname</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="surname"
                        StringId="UserHelpText">Your surname (also known as family name or last
                        name).</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="givenName"
                        StringId="DisplayName">Given Name</LocalizedString>
                    <LocalizedString ElementType="ClaimType" ElementId="givenName"
                        StringId="UserHelpText">Your given name (also known as first name).</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="button_continue">Continue</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="button_cancel">Cancel</LocalizedString>
                </LocalizedStrings>
            </LocalizedResources>
            <LocalizedResources Id="api.phonefactor.en">
                <LocalizedStrings>
                    <LocalizedString ElementType="UxElement" StringId="button_verify">Call Me</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="country_code_label">Country
                        Code</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="cancel_message">The user has
                        canceled multi-factor authentication</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="text_button_send_second_code">Send
                        a new code</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="code_pattern">\d{6}</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="intro_mixed">We have the
                        following number on record for you. We can send a code via SMS or phone to
                        authenticate you.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="intro_mixed_p">We have the
                        following numbers on record for you. Choose a number that we can phone or
                        send a code via SMS to authenticate you.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="button_verify_code">Verify
                        Code</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="requiredField_code">Please
                        enter the verification code you received</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="invalid_code">Please enter
                        the 6-digit code you received</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="button_cancel">Cancel</LocalizedString>
                    <LocalizedString ElementType="UxElement"
                        StringId="local_number_input_placeholder_text">Phone number</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="button_retry">Retry</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="alternative_text">I don't
                        have my phone</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="intro_phone_p">We have the
                        following numbers on record for you. Choose a number that we can phone to
                        authenticate you.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="intro_phone">We have the
                        following number on record for you. We will phone to authenticate you.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="enter_code_text_intro">Enter
                        your verification code below, or</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="intro_entry_phone">Enter a
                        number below that we can phone to authenticate you.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="intro_entry_sms">Enter a
                        number below that we can send a code via SMS to authenticate you.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="button_send_code">Send Code</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="invalid_number">Please enter
                        a valid phone number</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="intro_sms">We have the
                        following number on record for you. We will send a code via SMS to
                        authenticate you.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="intro_entry_mixed">Enter a
                        number below that we can send a code via SMS or phone to authenticate you.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="number_pattern">
                        ^\+(?:[0-9][\x20-]?){6,14}[0-9]$</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="intro_sms_p">We have the
                        following numbers on record for you. Choose a number that we can send a code
                        via SMS to authenticate you.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="requiredField_countryCode">Please
                        select your country code</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="requiredField_number">Please
                        enter your phone number</LocalizedString>
                    <LocalizedString ElementType="UxElement"
                        StringId="country_code_input_placeholder_text">Country or region</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="number_label">Phone Number</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="error_tryagain">The phone
                        number you provided is busy or unavailable. Please check the number and try
                        again.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="error_sms_throttled">You hit
                        the limit on the number of text messages. Try again shortly.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="error_phone_throttled">You
                        hit the limit on the number of call attempts. Try again shortly.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="error_throttled">You hit the
                        limit on the number of verification attempts. Try again shortly.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="error_incorrect_code">The
                        verification code you have entered does not match our records. Please try
                        again, or request a new code.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="countryList">{"DEFAULT":"Country/Region","AF":"Afghanistan","AX":"Åland
                        Islands","AL":"Albania","DZ":"Algeria","AS":"American
                        Samoa","AD":"Andorra","AO":"Angola","AI":"Anguilla","AQ":"Antarctica","AG":"Antigua
                        and
                        Barbuda","AR":"Argentina","AM":"Armenia","AW":"Aruba","AU":"Australia","AT":"Austria","AZ":"Azerbaijan","BS":"Bahamas","BH":"Bahrain","BD":"Bangladesh","BB":"Barbados","BY":"Belarus","BE":"Belgium","BZ":"Belize","BJ":"Benin","BM":"Bermuda","BT":"Bhutan","BO":"Bolivia","BQ":"Bonaire","BA":"Bosnia
                        and Herzegovina","BW":"Botswana","BV":"Bouvet
                        Island","BR":"Brazil","IO":"British Indian Ocean Territory","VG":"British
                        Virgin Islands","BN":"Brunei","BG":"Bulgaria","BF":"Burkina
                        Faso","BI":"Burundi","CV":"Cabo
                        Verde","KH":"Cambodia","CM":"Cameroon","CA":"Canada","KY":"Cayman
                        Islands","CF":"Central African
                        Republic","TD":"Chad","CL":"Chile","CN":"China","CX":"Christmas
                        Island","CC":"Cocos (Keeling)
                        Islands","CO":"Colombia","KM":"Comoros","CG":"Congo","CD":"Congo
                        (DRC)","CK":"Cook Islands","CR":"Costa Rica","CI":"Côte
                        d'Ivoire","HR":"Croatia","CU":"Cuba","CW":"Curaçao","CY":"Cyprus","CZ":"Czech
                        Republic","DK":"Denmark","DJ":"Djibouti","DM":"Dominica","DO":"Dominican
                        Republic","EC":"Ecuador","EG":"Egypt","SV":"El Salvador","GQ":"Equatorial
                        Guinea","ER":"Eritrea","EE":"Estonia","ET":"Ethiopia","FK":"Falkland
                        Islands","FO":"Faroe
                        Islands","FJ":"Fiji","FI":"Finland","FR":"France","GF":"French
                        Guiana","PF":"French Polynesia","TF":"French Southern
                        Territories","GA":"Gabon","GM":"Gambia","GE":"Georgia","DE":"Germany","GH":"Ghana","GI":"Gibraltar","GR":"Greece","GL":"Greenland","GD":"Grenada","GP":"Guadeloupe","GU":"Guam","GT":"Guatemala","GG":"Guernsey","GN":"Guinea","GW":"Guinea-Bissau","GY":"Guyana","HT":"Haiti","HM":"Heard
                        Island and McDonald Islands","HN":"Honduras","HK":"Hong Kong
                        SAR","HU":"Hungary","IS":"Iceland","IN":"India","ID":"Indonesia","IR":"Iran","IQ":"Iraq","IE":"Ireland","IM":"Isle
                        of
                        Man","IL":"Israel","IT":"Italy","JM":"Jamaica","JP":"Japan","JE":"Jersey","JO":"Jordan","KZ":"Kazakhstan","KE":"Kenya","KI":"Kiribati","KR":"Korea","KW":"Kuwait","KG":"Kyrgyzstan","LA":"Laos","LV":"Latvia","LB":"Lebanon","LS":"Lesotho","LR":"Liberia","LY":"Libya","LI":"Liechtenstein","LT":"Lithuania","LU":"Luxembourg","MO":"Macao
                        SAR","MK":"North
                        Macedonia","MG":"Madagascar","MW":"Malawi","MY":"Malaysia","MV":"Maldives","ML":"Mali","MT":"Malta","MH":"Marshall
                        Islands","MQ":"Martinique","MR":"Mauritania","MU":"Mauritius","YT":"Mayotte","MX":"Mexico","FM":"Micronesia","MD":"Moldova","MC":"Monaco","MN":"Mongolia","ME":"Montenegro","MS":"Montserrat","MA":"Morocco","MZ":"Mozambique","MM":"Myanmar","NA":"Namibia","NR":"Nauru","NP":"Nepal","NL":"Netherlands","NC":"New
                        Caledonia","NZ":"New
                        Zealand","NI":"Nicaragua","NE":"Niger","NG":"Nigeria","NU":"Niue","NF":"Norfolk
                        Island","KP":"North Korea","MP":"Northern Mariana
                        Islands","NO":"Norway","OM":"Oman","PK":"Pakistan","PW":"Palau","PS":"Palestinian
                        Authority","PA":"Panama","PG":"Papua New
                        Guinea","PY":"Paraguay","PE":"Peru","PH":"Philippines","PN":"Pitcairn
                        Islands","PL":"Poland","PT":"Portugal","PR":"Puerto
                        Rico","QA":"Qatar","RE":"Réunion","RO":"Romania","RU":"Russia","RW":"Rwanda","BL":"Saint
                        Barthélemy","KN":"Saint Kitts and Nevis","LC":"Saint Lucia","MF":"Saint
                        Martin","PM":"Saint Pierre and Miquelon","VC":"Saint Vincent and the
                        Grenadines","WS":"Samoa","SM":"San Marino","ST":"São Tomé and
                        Príncipe","SA":"Saudi
                        Arabia","SN":"Senegal","RS":"Serbia","SC":"Seychelles","SL":"Sierra
                        Leone","SG":"Singapore","SX":"Sint
                        Maarten","SK":"Slovakia","SI":"Slovenia","SB":"Solomon
                        Islands","SO":"Somalia","ZA":"South Africa","GS":"South Georgia and South
                        Sandwich Islands","SS":"South Sudan","ES":"Spain","LK":"Sri Lanka","SH":"St
                        Helena, Ascension, Tristan da
                        Cunha","SD":"Sudan","SR":"Suriname","SJ":"Svalbard","SZ":"Swaziland","SE":"Sweden","CH":"Switzerland","SY":"Syria","TW":"Taiwan","TJ":"Tajikistan","TZ":"Tanzania","TH":"Thailand","TL":"Timor-Leste","TG":"Togo","TK":"Tokelau","TO":"Tonga","TT":"Trinidad
                        and Tobago","TN":"Tunisia","TR":"Turkey","TM":"Turkmenistan","TC":"Turks and
                        Caicos Islands","TV":"Tuvalu","UM":"U.S. Outlying Islands","VI":"U.S. Virgin
                        Islands","UG":"Uganda","UA":"Ukraine","AE":"United Arab
                        Emirates","GB":"United Kingdom","US":"United
                        States","UY":"Uruguay","UZ":"Uzbekistan","VU":"Vanuatu","VA":"Vatican
                        City","VE":"Venezuela","VN":"Vietnam","WF":"Wallis and
                        Futuna","YE":"Yemen","ZM":"Zambia","ZW":"Zimbabwe"}</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="error_448">The phone number
                        you provided is unreachable.</LocalizedString>
                    <LocalizedString ElementType="UxElement" StringId="error_449">User has exceeded
                        the number of retry attempts.</LocalizedString>
                    <LocalizedString ElementType="UxElement"
                        StringId="verification_code_input_placeholder_text">Verification code</LocalizedString>
                    <LocalizedString ElementType="ClaimType"
                        ElementId="strongAuthenticationPhoneNumber" StringId="DisplayName">Phone
                        Number</LocalizedString>
                </LocalizedStrings>
            </LocalizedResources>
        </Localization>
    </BuildingBlocks>
    <ClaimsProviders>
        <ClaimsProvider>
            <DisplayName>Trustframework Policy Engine TechnicalProfiles</DisplayName>
            <TechnicalProfiles>
                <TechnicalProfile Id="TpEngine_c3bd4fe2-1775-4013-b91d-35f16d377d13">
                    <DisplayName>Trustframework Policy Engine Default Technical Profile</DisplayName>
                    <Protocol Name="None" />
                    <Metadata>
                        <Item Key="url">{service:te}</Item>
                    </Metadata>
                </TechnicalProfile>
            </TechnicalProfiles>
        </ClaimsProvider>
        <ClaimsProvider>
            <DisplayName>Session Management</DisplayName>
            <TechnicalProfiles>
                <TechnicalProfile Id="SM-Noop">
                    <DisplayName>Noop Session Management Provider</DisplayName>
                    <Protocol Name="Proprietary"
                        Handler="Web.TPEngine.SSO.NoopSSOSessionProvider, Web.TPEngine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
                </TechnicalProfile>
                <TechnicalProfile Id="SM-jwt-issuer">
                    <DisplayName>OAuth Session Management Provider</DisplayName>
                    <Protocol Name="Proprietary"
                        Handler="Web.TPEngine.SSO.OAuthSSOSessionProvider, Web.TPEngine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
                </TechnicalProfile>
            </TechnicalProfiles>
        </ClaimsProvider>
        <ClaimsProvider>
            <DisplayName>Conditional Handling</DisplayName>
            <TechnicalProfiles>
                <TechnicalProfile Id="BranchVariableInitializer">
                    <DisplayName>Branch Variable Initialization</DisplayName>
                    <Protocol Name="Proprietary"
                        Handler="Web.TPEngine.Providers.ClaimsTransformationProtocolProvider, Web.TPEngine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
                    <OutputClaims>
                        <OutputClaim ClaimTypeReferenceId="BranchVar_0" DefaultValue="false"
                            AlwaysUseDefaultValue="true" />
                        <OutputClaim ClaimTypeReferenceId="BranchVar_1" DefaultValue="false"
                            AlwaysUseDefaultValue="true" />
                        <OutputClaim ClaimTypeReferenceId="BranchVar_2" DefaultValue="false"
                            AlwaysUseDefaultValue="true" />
                        <OutputClaim ClaimTypeReferenceId="BranchVar_3" DefaultValue="false"
                            AlwaysUseDefaultValue="true" />
                        <OutputClaim ClaimTypeReferenceId="BranchVar_4" DefaultValue="false"
                            AlwaysUseDefaultValue="true" />
                        <OutputClaim ClaimTypeReferenceId="jexg_BooleanCopyDummy"
                            DefaultValue="true" AlwaysUseDefaultValue="true" />
                    </OutputClaims>
                    <UseTechnicalProfileForSessionManagement ReferenceId="SM-Noop" />
                </TechnicalProfile>
                <TechnicalProfile Id="branchJoinProfile11">
                    <DisplayName>Branch Join 11</DisplayName>
                    <Protocol Name="Proprietary"
                        Handler="Web.TPEngine.Providers.ClaimsTransformationProtocolProvider, Web.TPEngine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
                    <InputClaims>
                        <InputClaim ClaimTypeReferenceId="BranchVar_1" DefaultValue="false" />
                        <InputClaim ClaimTypeReferenceId="BranchVar_2" DefaultValue="false" />
                    </InputClaims>
                    <OutputClaims>
                        <OutputClaim ClaimTypeReferenceId="BranchVar_1" DefaultValue="false" />
                        <OutputClaim ClaimTypeReferenceId="BranchVar_2" DefaultValue="false" />
                        <OutputClaim ClaimTypeReferenceId="BranchVar_3" DefaultValue="false" />
                    </OutputClaims>
                    <OutputClaimsTransformations>
                        <OutputClaimsTransformation ReferenceId="branchJoinFinalBooleanOr4" />
                    </OutputClaimsTransformations>
                    <UseTechnicalProfileForSessionManagement ReferenceId="SM-Noop" />
                </TechnicalProfile>
                <TechnicalProfile Id="Conditional">
                    <DisplayName>Conditional</DisplayName>
                    <Protocol Name="Proprietary"
                        Handler="Web.TPEngine.Providers.ClaimsTransformationProtocolProvider, Web.TPEngine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
                    <OutputClaims>
                        <OutputClaim ClaimTypeReferenceId="jexg_BooleanCopyDummy"
                            DefaultValue="true" AlwaysUseDefaultValue="true" />
                        <OutputClaim ClaimTypeReferenceId="BranchVar_4" DefaultValue="false" />
                        <OutputClaim ClaimTypeReferenceId="accountEnabled" DefaultValue="false" />
                    </OutputClaims>
                    <OutputClaimsTransformations>
                        <OutputClaimsTransformation ReferenceId="Conditional_Condition0_Boolcmp" />
                        <OutputClaimsTransformation ReferenceId="Conditional_SetFalseBranchVar" />
                    </OutputClaimsTransformations>
                    <UseTechnicalProfileForSessionManagement ReferenceId="SM-Noop" />
                </TechnicalProfile>
            </TechnicalProfiles>
        </ClaimsProvider>
        <ClaimsProvider>
            <DisplayName>SetClaims</DisplayName>
            <TechnicalProfiles>
                <TechnicalProfile Id="Set_Claims">
                    <DisplayName>Set Claims</DisplayName>
                    <Protocol Name="Proprietary"
                        Handler="Web.TPEngine.Providers.ClaimsTransformationProtocolProvider, Web.TPEngine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
                    <Metadata>
                        <Item Key="IncludeClaimResolvingInClaimsHandling">true</Item>
                    </Metadata>
                    <OutputClaims>
                        <OutputClaim ClaimTypeReferenceId="samlEnabled"
                            DefaultValue="{OAUTH-KV:enabled}" AlwaysUseDefaultValue="true" />
                    </OutputClaims>
                    <UseTechnicalProfileForSessionManagement ReferenceId="SM-Noop" />
                </TechnicalProfile>
            </TechnicalProfiles>
        </ClaimsProvider>
        <ClaimsProvider>
            <DisplayName>Local Account SignIn</DisplayName>
            <TechnicalProfiles>
                <TechnicalProfile Id="Username_Password_Validation">
                    <DisplayName>Username Password Validation</DisplayName>
                    <Protocol Name="OpenIdConnect" />
                    <Metadata>
                        <Item Key="UserMessageIfInvalidPassword">Username password is invalid.
                            Please re-enter your credentials.</Item>
                        <Item Key="UserMessageIfClaimsPrincipalDoesNotExist">Username password is
                            invalid. Please re-enter your credentials.</Item>
                        <Item Key="ProviderName">https://sts.windows.net/</Item>
                        <Item Key="METADATA">
                            https://login.microsoftonline.com/{tenant}/.well-known/openid-configuration</Item>
                        <Item Key="authorization_endpoint">
                            https://login.microsoftonline.com/{tenant}/oauth2/token</Item>
                        <Item Key="response_types">id_token</Item>
                        <Item Key="response_mode">query</Item>
                        <Item Key="scope">email openid</Item>
                        <Item Key="UsePolicyInRedirectUri">false</Item>
                        <Item Key="HttpBinding">POST</Item>
                        <Item Key="client_id">4fd657d2-9232-45c7-9246-736ed750c162</Item>
                        <Item Key="IdTokenAudience">f9b3b389-0b7a-4690-aa21-128bfd2b30af</Item>
                    </Metadata>
                    <InputClaims>
                        <InputClaim ClaimTypeReferenceId="signInName" DefaultValue=""
                            PartnerClaimType="username" Required="true" />
                        <InputClaim ClaimTypeReferenceId="password" DefaultValue="" Required="true" />
                        <InputClaim ClaimTypeReferenceId="grant_type_0" DefaultValue="Password"
                            AlwaysUseDefaultValue="true" PartnerClaimType="grant_type" />
                        <InputClaim ClaimTypeReferenceId="scope_0" DefaultValue="openid"
                            AlwaysUseDefaultValue="true" PartnerClaimType="scope" />
                        <InputClaim ClaimTypeReferenceId="nca_0" DefaultValue="1"
                            AlwaysUseDefaultValue="true" PartnerClaimType="nca" />
                        <InputClaim ClaimTypeReferenceId="client_id_0"
                            DefaultValue="4fd657d2-9232-45c7-9246-736ed750c162" AlwaysUseDefaultValue="true"
                            PartnerClaimType="client_id" />
                        <InputClaim ClaimTypeReferenceId="resource_id_0"
                            DefaultValue="f9b3b389-0b7a-4690-aa21-128bfd2b30af" AlwaysUseDefaultValue="true"
                            PartnerClaimType="resource" />
                    </InputClaims>
                    <OutputClaims>
                        <OutputClaim ClaimTypeReferenceId="objectId" DefaultValue=""
                            PartnerClaimType="oid" />
                        <OutputClaim ClaimTypeReferenceId="strCmpBuffer" DefaultValue="Password"
                            AlwaysUseDefaultValue="true" />
                        <OutputClaim ClaimTypeReferenceId="estsRequestId"
                            DefaultValue="00000000-0000-0000-0000-000000000000"
                            PartnerClaimType="estsRequestId" />
                    </OutputClaims>
                    <OutputClaimsTransformations>
                        <OutputClaimsTransformation
                            ReferenceId="Username_Password_Validation_makeAuthMethodsCollection" />
                    </OutputClaimsTransformations>
                    <UseTechnicalProfileForSessionManagement ReferenceId="SM-Noop" />
                </TechnicalProfile>
            </TechnicalProfiles>
        </ClaimsProvider>
        <ClaimsProvider>
            <DisplayName>Local Account</DisplayName>
            <TechnicalProfiles>
                <TechnicalProfile Id="localAccountSignInProfile">
                    <DisplayName>Local Account Signin</DisplayName>
                    <Protocol Name="Proprietary"
                        Handler="Web.TPEngine.Providers.SelfAssertedAttributeProvider, Web.TPEngine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
                    <Metadata>
                        <Item Key="setting.forgotPasswordLinkLocation">None</Item>
                        <Item Key="setting.showSignupLink">false</Item>
                        <Item Key="IncludeClaimResolvingInClaimsHandling">true</Item>
                        <Item Key="ContentDefinitionReferenceId">api.localaccountsignin</Item>
                        <Item Key="setting.enableRememberMe">True</Item>
                        <Item Key="setting.operatingMode">Email</Item>
                    </Metadata>
                    <IncludeInSso>false</IncludeInSso>
                    <InputClaims>
                        <InputClaim ClaimTypeReferenceId="signInName"
                            DefaultValue="{OIDC:LoginHint}" AlwaysUseDefaultValue="true" />
                    </InputClaims>
                    <DisplayClaims>
                        <DisplayClaim ClaimTypeReferenceId="signInName" Required="true" />
                        <DisplayClaim ClaimTypeReferenceId="password" Required="true" />
                    </DisplayClaims>
                    <OutputClaims>
                        <OutputClaim ClaimTypeReferenceId="objectId" DefaultValue="" />
                        <OutputClaim ClaimTypeReferenceId="authMethodsUsedForCA" />
                        <OutputClaim ClaimTypeReferenceId="signInName" DefaultValue="" />
                        <OutputClaim ClaimTypeReferenceId="BranchVar_0" DefaultValue="true"
                            AlwaysUseDefaultValue="true" />
                    </OutputClaims>
                    <ValidationTechnicalProfiles>
                        <ValidationTechnicalProfile ReferenceId="Username_Password_Validation" />
                    </ValidationTechnicalProfiles>
                    <UseTechnicalProfileForSessionManagement ReferenceId="SM-Noop" />
                </TechnicalProfile>
            </TechnicalProfiles>
        </ClaimsProvider>
        <ClaimsProvider>
            <DisplayName>B2C</DisplayName>
            <TechnicalProfiles>
                <TechnicalProfile Id="Saml_Federation">
                    <DisplayName>Saml_Federation</DisplayName>
                    <Protocol Name="SAML2" />
                    <Metadata>
                        <Item Key="PartnerEntity">https://testadb2c123179.b2clogin.com/testadb2c123179.onmicrosoft.com/B2C_1A_SIGNUP_SIGNIN_SAML/samlp/metadata</Item>
                        <Item Key="WantsSignedRequests">true</Item>
                        <Item Key="WantsSignedAssertions">true</Item>
                        <Item Key="ResponsesSigned">true</Item>
                        <Item Key="WantsEncryptedAssertions">false</Item>
                        <Item Key="XmlSignatureAlgorithm">Sha1</Item>
                    </Metadata>
                    <CryptographicKeys>
                        <Key Id="SamlMessageSigning" StorageReferenceId="B2C_1A_gpTestSamlTestCert" />
                    </CryptographicKeys>
                    <OutputClaims>
                        <OutputClaim ClaimTypeReferenceId="issuerUserId" DefaultValue=""
                            PartnerClaimType="assertionSubjectName" />
                        <OutputClaim ClaimTypeReferenceId="identityProvider_0" DefaultValue="B2C"
                            AlwaysUseDefaultValue="true" />
                        <OutputClaim ClaimTypeReferenceId="signInName" DefaultValue=""
                            PartnerClaimType="email" />
                        <OutputClaim ClaimTypeReferenceId="displayName" DefaultValue=""
                            PartnerClaimType="displayName" />
                        <OutputClaim ClaimTypeReferenceId="accountEnabled" DefaultValue="false"
                            AlwaysUseDefaultValue="true" PartnerClaimType="" />
                        <OutputClaim ClaimTypeReferenceId="isFederatedLogin" DefaultValue="true"
                            AlwaysUseDefaultValue="true" />
                    </OutputClaims>
                    <OutputClaimsTransformations>
                        <OutputClaimsTransformation ReferenceId="CreateRandomUPNUserName" />
                        <OutputClaimsTransformation ReferenceId="CreateUserPrincipalName" />
                        <OutputClaimsTransformation ReferenceId="CreateUserForeignID" />
                    </OutputClaimsTransformations>
                    <UseTechnicalProfileForSessionManagement ReferenceId="SM-Noop" />
                </TechnicalProfile>
            </TechnicalProfiles>
        </ClaimsProvider>
        <ClaimsProvider>
            <DisplayName>Claims Provider Selection Branch Handling</DisplayName>
            <TechnicalProfiles>
                <TechnicalProfile Id="Saml_Federation_ClaimsProviderSelector">
                    <DisplayName>Saml_Federation</DisplayName>
                    <Protocol Name="Proprietary"
                        Handler="Web.TPEngine.Providers.ClaimsTransformationProtocolProvider, Web.TPEngine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
                    <OutputClaims>
                        <OutputClaim ClaimTypeReferenceId="BranchVar_1" DefaultValue="true"
                            AlwaysUseDefaultValue="true" />
                    </OutputClaims>
                    <UseTechnicalProfileForSessionManagement ReferenceId="SM-Noop" />
                </TechnicalProfile>
                <TechnicalProfile Id="SAML_Federation2_ClaimsProviderSelector">
                    <DisplayName>SAML_Federation2</DisplayName>
                    <Protocol Name="Proprietary"
                        Handler="Web.TPEngine.Providers.ClaimsTransformationProtocolProvider, Web.TPEngine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
                    <OutputClaims>
                        <OutputClaim ClaimTypeReferenceId="BranchVar_2" DefaultValue="true"
                            AlwaysUseDefaultValue="true" />
                    </OutputClaims>
                    <UseTechnicalProfileForSessionManagement ReferenceId="SM-Noop" />
                </TechnicalProfile>
            </TechnicalProfiles>
        </ClaimsProvider>
        <ClaimsProvider>
            <DisplayName>SAML2</DisplayName>
            <TechnicalProfiles>
                <TechnicalProfile Id="SAML_Federation2">
                    <DisplayName>SAML_Federation2</DisplayName>
                    <Protocol Name="SAML2" />
                    <Metadata>
                        <Item Key="PartnerEntity">https://testadb2c123179.b2clogin.com/testadb2c123179.onmicrosoft.com/B2C_1A_SIGNUP_SIGNIN_SAML/samlp/metadata</Item>
                        <Item Key="WantsSignedRequests">true</Item>
                        <Item Key="WantsSignedAssertions">true</Item>
                        <Item Key="ResponsesSigned">true</Item>
                        <Item Key="WantsEncryptedAssertions">false</Item>
                        <Item Key="XmlSignatureAlgorithm">Sha1</Item>
                    </Metadata>
                    <CryptographicKeys>
                        <Key Id="SamlMessageSigning" StorageReferenceId="B2C_1A_samlTestCert" />
                    </CryptographicKeys>
                    <OutputClaims>
                        <OutputClaim ClaimTypeReferenceId="issuerUserId" DefaultValue=""
                            PartnerClaimType="assertionSubjectName" />
                        <OutputClaim ClaimTypeReferenceId="identityProvider_0" DefaultValue="SAML2"
                            AlwaysUseDefaultValue="true" />
                        <OutputClaim ClaimTypeReferenceId="displayName" DefaultValue=""
                            PartnerClaimType="displayName" />
                        <OutputClaim ClaimTypeReferenceId="signInName" DefaultValue=""
                            PartnerClaimType="email" />
                        <OutputClaim ClaimTypeReferenceId="accountEnabled" DefaultValue="false"
                            AlwaysUseDefaultValue="true" PartnerClaimType="" />
                        <OutputClaim ClaimTypeReferenceId="isFederatedLogin" DefaultValue="true"
                            AlwaysUseDefaultValue="true" />
                    </OutputClaims>
                    <OutputClaimsTransformations>
                        <OutputClaimsTransformation ReferenceId="CreateRandomUPNUserName" />
                        <OutputClaimsTransformation ReferenceId="CreateUserPrincipalName" />
                        <OutputClaimsTransformation ReferenceId="CreateUserForeignID" />
                    </OutputClaimsTransformations>
                    <UseTechnicalProfileForSessionManagement ReferenceId="SM-Noop" />
                </TechnicalProfile>
            </TechnicalProfiles>
        </ClaimsProvider>
        <ClaimsProvider>
            <DisplayName>Azure Active Directory</DisplayName>
            <TechnicalProfiles>
                <TechnicalProfile Id="AAD_Read">
                    <DisplayName>AAD Read aadRead-24e2</DisplayName>
                    <Protocol Name="Proprietary"
                        Handler="Web.TPEngine.Providers.AzureActiveDirectoryProvider, Web.TPEngine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
                    <Metadata>
                        <Item Key="Operation">Read</Item>
                        <Item Key="RaiseErrorIfClaimsPrincipalDoesNotExist">false</Item>
                        <Item Key="ClientId">e98d96c4-633d-478f-9518-460918ad25c1</Item>
                        <Item Key="ApplicationObjectId">e8f4092d-f8d6-493b-bb59-bc76299408ad</Item>
                    </Metadata>
                    <CryptographicKeys>
                        <Key Id="issuer_secret"
                            StorageReferenceId="B2C_1A_TokenSigningKeyContainer" />
                    </CryptographicKeys>
                    <IncludeInSso>false</IncludeInSso>
                    <InputClaims>
                        <InputClaim ClaimTypeReferenceId="objectId" DefaultValue=""
                            PartnerClaimType="objectId" />
                    </InputClaims>
                    <OutputClaims>
                        <OutputClaim ClaimTypeReferenceId="givenName" DefaultValue="" />
                        <OutputClaim ClaimTypeReferenceId="surname" DefaultValue="" />
                        <OutputClaim ClaimTypeReferenceId="displayName" DefaultValue="" />
                        <OutputClaim ClaimTypeReferenceId="signInName" DefaultValue=""
                            PartnerClaimType="signInNames.emailAddress" />
                        <OutputClaim ClaimTypeReferenceId="objectId" DefaultValue="" />
                    </OutputClaims>
                    <UseTechnicalProfileForSessionManagement ReferenceId="SM-Noop" />
                </TechnicalProfile>
                <TechnicalProfile Id="AAD_Read_0">
                    <DisplayName>AAD Read aadRead-5911</DisplayName>
                    <Protocol Name="Proprietary"
                        Handler="Web.TPEngine.Providers.AzureActiveDirectoryProvider, Web.TPEngine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
                    <Metadata>
                        <Item Key="api-version">1.6</Item>
                        <Item Key="Operation">Read</Item>
                        <Item Key="RaiseErrorIfClaimsPrincipalDoesNotExist">false</Item>
                        <Item Key="ClientId">e98d96c4-633d-478f-9518-460918ad25c1</Item>
                        <Item Key="ApplicationObjectId">e8f4092d-f8d6-493b-bb59-bc76299408ad</Item>
                    </Metadata>
                    <CryptographicKeys>
                        <Key Id="issuer_secret"
                            StorageReferenceId="B2C_1A_TokenSigningKeyContainer" />
                    </CryptographicKeys>
                    <IncludeInSso>false</IncludeInSso>
                    <InputClaims>
                        <InputClaim ClaimTypeReferenceId="userIdentitiesForRead"
                            PartnerClaimType="userIdentities" />
                    </InputClaims>
                    <OutputClaims>
                        <OutputClaim ClaimTypeReferenceId="accountEnabled" DefaultValue="false" />
                        <OutputClaim ClaimTypeReferenceId="objectId" DefaultValue="" />
                        <OutputClaim ClaimTypeReferenceId="userIdentitiesForRead"
                            PartnerClaimType="userIdentities" />
                    </OutputClaims>
                    <UseTechnicalProfileForSessionManagement ReferenceId="SM-Noop" />
                </TechnicalProfile>
                <TechnicalProfile Id="AAD_Create">
                    <DisplayName>AAD Create</DisplayName>
                    <Protocol Name="Proprietary"
                        Handler="Web.TPEngine.Providers.AzureActiveDirectoryProvider, Web.TPEngine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
                    <Metadata>
                        <Item Key="api-version">1.6</Item>
                        <Item Key="Operation">Write</Item>
                        <Item Key="RaiseErrorIfClaimsPrincipalAlreadyExists">true</Item>
                        <Item Key="RaiseErrorIfClaimsPrincipalDoesNotExist">false</Item>
                        <Item Key="UserMessageIfClaimsPrincipalAlreadyExists">User already exists</Item>
                        <Item Key="ClientId">e98d96c4-633d-478f-9518-460918ad25c1</Item>
                        <Item Key="ApplicationObjectId">e8f4092d-f8d6-493b-bb59-bc76299408ad</Item>
                    </Metadata>
                    <CryptographicKeys>
                        <Key Id="issuer_secret"
                            StorageReferenceId="B2C_1A_TokenSigningKeyContainer" />
                    </CryptographicKeys>
                    <IncludeInSso>false</IncludeInSso>
                    <InputClaimsTransformations>
                        <InputClaimsTransformation
                            ReferenceId="AAD_Create_MakeIndexingUserIdentityCollection" />
                        <InputClaimsTransformation ReferenceId="AAD_Create_MakeRandomPassword" />
                    </InputClaimsTransformations>
                    <InputClaims>
                        <InputClaim ClaimTypeReferenceId="userIdentities"
                            PartnerClaimType="userIdentities" Required="true" />
                    </InputClaims>
                    <PersistedClaims>
                        <PersistedClaim ClaimTypeReferenceId="displayName" DefaultValue="unknown" />
                        <PersistedClaim ClaimTypeReferenceId="strCmpPwdBuffer"
                            PartnerClaimType="password" />
                        <PersistedClaim ClaimTypeReferenceId="accountEnabled" DefaultValue="true"
                            AlwaysUseDefaultValue="true" />
                        <PersistedClaim ClaimTypeReferenceId="userIdentities"
                            PartnerClaimType="userIdentities" />
                        <PersistedClaim ClaimTypeReferenceId="userPrincipalName_0"
                            PartnerClaimType="userPrincipalName" />
                        <PersistedClaim ClaimTypeReferenceId="passwordPolicies_0"
                            DefaultValue="DisablePasswordExpiration, DisableStrongPassword"
                            PartnerClaimType="passwordPolicies" />
                    </PersistedClaims>
                    <OutputClaims>
                        <OutputClaim ClaimTypeReferenceId="objectId" DefaultValue=""
                            PartnerClaimType="objectId" />
                    </OutputClaims>
                    <UseTechnicalProfileForSessionManagement ReferenceId="SM-Noop" />
                </TechnicalProfile>
            </TechnicalProfiles>
        </ClaimsProvider>
        <ClaimsProvider>
            <DisplayName>AAD Read Preparations</DisplayName>
            <TechnicalProfiles>
                <TechnicalProfile Id="aadReadByUserIdentitiesPrepProfile12">
                    <DisplayName>AAD Read Preparation 12</DisplayName>
                    <Protocol Name="Proprietary"
                        Handler="Web.TPEngine.Providers.ClaimsTransformationProtocolProvider, Web.TPEngine, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" />
                    <InputClaims>
                        <InputClaim ClaimTypeReferenceId="emptyUserIdentities" />
                        <InputClaim ClaimTypeReferenceId="userIdentitiesForRead" />
                    </InputClaims>
                    <OutputClaims>
                        <OutputClaim ClaimTypeReferenceId="emptyUserIdentities" />
                        <OutputClaim ClaimTypeReferenceId="userIdentitiesForRead" />
                    </OutputClaims>
                    <OutputClaimsTransformations>
                        <OutputClaimsTransformation ReferenceId="CreateForeignIDCollectionForRead" />
                    </OutputClaimsTransformations>
                    <UseTechnicalProfileForSessionManagement ReferenceId="SM-Noop" />
                </TechnicalProfile>
            </TechnicalProfiles>
        </ClaimsProvider>
        <ClaimsProvider>
            <DisplayName>Token Issuers</DisplayName>
            <TechnicalProfiles>
                <TechnicalProfile Id="jwtIssuer">
                    <DisplayName>JWT Issuer</DisplayName>
                    <Protocol Name="OpenIdConnect" />
                    <OutputTokenFormat>JWT</OutputTokenFormat>
                    <Metadata>
                        <Item Key="client_id">{service:te}</Item>
                        <Item Key="issuer_refresh_token_user_identity_claim_type">objectId</Item>
                        <Item Key="SendTokenResponseBodyWithJsonNumbers">true</Item>
                    </Metadata>
                    <CryptographicKeys>
                        <Key Id="issuer_secret"
                            StorageReferenceId="B2C_1A_TokenSigningKeyContainer" />
                        <Key Id="issuer_refresh_token_key"
                            StorageReferenceId="B2C_1A_TokenEncryptionKeyContainer" />
                    </CryptographicKeys>
                    <UseTechnicalProfileForSessionManagement ReferenceId="SM-jwt-issuer" />
                </TechnicalProfile>
            </TechnicalProfiles>
        </ClaimsProvider>
    </ClaimsProviders>
    <UserJourneys>
        <UserJourney Id="userjourney-bb6df4e5-9def-7f5e-7a33-6ac253de56d8">
            <OrchestrationSteps>
                <OrchestrationStep Order="1" Type="ClaimsExchange">
                    <ClaimsExchanges>
                        <ClaimsExchange Id="InitialClaimsExchange"
                            TechnicalProfileReferenceId="BranchVariableInitializer" />
                    </ClaimsExchanges>
                </OrchestrationStep>
                <OrchestrationStep Order="2" Type="ClaimsExchange">
                    <ClaimsExchanges>
                        <ClaimsExchange Id="Set_Claims_ClaimsExchange"
                            TechnicalProfileReferenceId="Set_Claims" />
                    </ClaimsExchanges>
                </OrchestrationStep>
                <OrchestrationStep Order="3" Type="CombinedSignInAndSignUp"
                    ContentDefinitionReferenceId="api.signuporsignin">
                    <ClaimsProviderSelections>
                        <ClaimsProviderSelection
                            ValidationClaimsExchangeId="localAccountSignInClaimsExchange" />
                        <ClaimsProviderSelection
                            TargetClaimsExchangeId="Saml_Federation_ClaimsExchange_Precursor" />
                        <ClaimsProviderSelection
                            TargetClaimsExchangeId="SAML_Federation2_ClaimsExchange_Precursor" />
                    </ClaimsProviderSelections>
                    <ClaimsExchanges>
                        <ClaimsExchange Id="localAccountSignInClaimsExchange"
                            TechnicalProfileReferenceId="localAccountSignInProfile" />
                    </ClaimsExchanges>
                </OrchestrationStep>
                <OrchestrationStep Order="4" Type="ClaimsExchange">
                    <Preconditions>
                        <Precondition Type="ClaimEquals" ExecuteActionsIf="true">
                            <Value>BranchVar_0</Value>
                            <Value>True</Value>
                            <Action>SkipThisOrchestrationStep</Action>
                        </Precondition>
                    </Preconditions>
                    <ClaimsExchanges>
                        <ClaimsExchange Id="Saml_Federation_ClaimsExchange_Precursor"
                            TechnicalProfileReferenceId="Saml_Federation_ClaimsProviderSelector" />
                        <ClaimsExchange Id="SAML_Federation2_ClaimsExchange_Precursor"
                            TechnicalProfileReferenceId="SAML_Federation2_ClaimsProviderSelector" />
                    </ClaimsExchanges>
                </OrchestrationStep>
                <OrchestrationStep Order="5" Type="ClaimsExchange">
                    <Preconditions>
                        <Precondition Type="ClaimEquals" ExecuteActionsIf="false">
                            <Value>BranchVar_1</Value>
                            <Value>True</Value>
                            <Action>SkipThisOrchestrationStep</Action>
                        </Precondition>
                    </Preconditions>
                    <ClaimsExchanges>
                        <ClaimsExchange Id="Saml_Federation_ClaimsExchange"
                            TechnicalProfileReferenceId="Saml_Federation" />
                    </ClaimsExchanges>
                </OrchestrationStep>
                <OrchestrationStep Order="6" Type="ClaimsExchange">
                    <Preconditions>
                        <Precondition Type="ClaimEquals" ExecuteActionsIf="false">
                            <Value>BranchVar_2</Value>
                            <Value>True</Value>
                            <Action>SkipThisOrchestrationStep</Action>
                        </Precondition>
                    </Preconditions>
                    <ClaimsExchanges>
                        <ClaimsExchange Id="SAML_Federation2_ClaimsExchange"
                            TechnicalProfileReferenceId="SAML_Federation2" />
                    </ClaimsExchanges>
                </OrchestrationStep>
                <OrchestrationStep Order="7" Type="ClaimsExchange">
                    <Preconditions>
                        <Precondition Type="ClaimEquals" ExecuteActionsIf="false">
                            <Value>BranchVar_0</Value>
                            <Value>True</Value>
                            <Action>SkipThisOrchestrationStep</Action>
                        </Precondition>
                    </Preconditions>
                    <ClaimsExchanges>
                        <ClaimsExchange Id="AAD_Read_ClaimsExchange"
                            TechnicalProfileReferenceId="AAD_Read" />
                    </ClaimsExchanges>
                </OrchestrationStep>
                <OrchestrationStep Order="8" Type="ClaimsExchange">
                    <Preconditions>
                        <Precondition Type="ClaimEquals" ExecuteActionsIf="false">
                            <Value>BranchVar_1</Value>
                            <Value>True</Value>
                            <Action>SkipThisOrchestrationStep</Action>
                        </Precondition>
                    </Preconditions>
                    <ClaimsExchanges>
                        <ClaimsExchange Id="branchJoinClaimsExchange8"
                            TechnicalProfileReferenceId="branchJoinProfile11" />
                    </ClaimsExchanges>
                </OrchestrationStep>
                <OrchestrationStep Order="9" Type="ClaimsExchange">
                    <Preconditions>
                        <Precondition Type="ClaimEquals" ExecuteActionsIf="false">
                            <Value>BranchVar_2</Value>
                            <Value>True</Value>
                            <Action>SkipThisOrchestrationStep</Action>
                        </Precondition>
                    </Preconditions>
                    <ClaimsExchanges>
                        <ClaimsExchange Id="branchJoinClaimsExchange9"
                            TechnicalProfileReferenceId="branchJoinProfile11" />
                    </ClaimsExchanges>
                </OrchestrationStep>
                <OrchestrationStep Order="10" Type="ClaimsExchange">
                    <Preconditions>
                        <Precondition Type="ClaimEquals" ExecuteActionsIf="false">
                            <Value>BranchVar_3</Value>
                            <Value>True</Value>
                            <Action>SkipThisOrchestrationStep</Action>
                        </Precondition>
                    </Preconditions>
                    <ClaimsExchanges>
                        <ClaimsExchange Id="aadReadByUserIdentitiesPrepExchange10"
                            TechnicalProfileReferenceId="aadReadByUserIdentitiesPrepProfile12" />
                    </ClaimsExchanges>
                </OrchestrationStep>
                <OrchestrationStep Order="11" Type="ClaimsExchange">
                    <Preconditions>
                        <Precondition Type="ClaimEquals" ExecuteActionsIf="false">
                            <Value>BranchVar_3</Value>
                            <Value>True</Value>
                            <Action>SkipThisOrchestrationStep</Action>
                        </Precondition>
                    </Preconditions>
                    <ClaimsExchanges>
                        <ClaimsExchange Id="AAD_Read_ClaimsExchange_0"
                            TechnicalProfileReferenceId="AAD_Read_0" />
                    </ClaimsExchanges>
                </OrchestrationStep>
                <OrchestrationStep Order="12" Type="ClaimsExchange">
                    <Preconditions>
                        <Precondition Type="ClaimEquals" ExecuteActionsIf="false">
                            <Value>BranchVar_3</Value>
                            <Value>True</Value>
                            <Action>SkipThisOrchestrationStep</Action>
                        </Precondition>
                    </Preconditions>
                    <ClaimsExchanges>
                        <ClaimsExchange Id="Conditional_ClaimsExchange"
                            TechnicalProfileReferenceId="Conditional" />
                    </ClaimsExchanges>
                </OrchestrationStep>
                <OrchestrationStep Order="13" Type="ClaimsExchange">
                    <Preconditions>
                        <Precondition Type="ClaimEquals" ExecuteActionsIf="false">
                            <Value>BranchVar_4</Value>
                            <Value>True</Value>
                            <Action>SkipThisOrchestrationStep</Action>
                        </Precondition>
                    </Preconditions>
                    <ClaimsExchanges>
                        <ClaimsExchange Id="AAD_Create_ClaimsExchange"
                            TechnicalProfileReferenceId="AAD_Create" />
                    </ClaimsExchanges>
                </OrchestrationStep>
                <OrchestrationStep Order="14" Type="SendClaims"
                    CpimIssuerTechnicalProfileReferenceId="jwtIssuer" />
            </OrchestrationSteps>
            <ClientDefinition ReferenceId="DefaultWeb" />
        </UserJourney>
    </UserJourneys>
</TrustFrameworkPolicy>